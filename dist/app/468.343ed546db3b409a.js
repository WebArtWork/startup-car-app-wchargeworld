"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[468],{6468:(O,c,r)=>{r.r(c),r.d(c,{ProfileModule:()=>M});var p=r(7229),t=r(4946),l=r(1749),f=r(1883),d=r(3934),u=r(2515),g=r(6814),_=r(2812),m=r(8610),h=r(8383);function w(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"wform",17),t.NdJ("wChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.update(n))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("config",e.formProfile)("submition",e.user)}}function x(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"wbutton",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return n.us.user.data.partnership=!1,t.KtG(n.us.update())}),t.TgZ(1,"span",13),t._uU(2," Profile.Cancel application for partnership "),t.qZA()()}}function b(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"wbutton",21),t.NdJ("wClick",function(){t.CHM(e);const n=t.oxw(2);return n.us.user.data.partnership=!0,t.KtG(n.us.update())}),t.TgZ(1,"span",13),t._uU(2,"Profile.Apply for partnership"),t.qZA()()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",!e.us.user.name||!e.us.user.data.phone)}}function v(o,s){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,x,3,0,"wbutton",18),t.YNc(2,b,3,1,"wbutton",19),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.us.user.data.partnership),t.xp6(1),t.Q6J("ngIf",!e.us.user.data.partnership)}}let C=(()=>{class o{constructor(e,i,n){this._form=e,this._core=i,this.us=n,this.formProfile=this._form.getForm("profile"),this.formPassword=this._form.getForm("change password"),this._core.next("us.user",()=>{const a={};this._core.copy(this.us.user,a),this.user=a})}update(e){this._core.copy(e,this.us.user),this.us.update()}change_password(){this._form.modal(this.formPassword,{label:"Change",click:(e,i)=>{this.us.change_password(e.oldPass,e.newPass),i()}}).then(e=>{this.us.change_password(e.oldPass,e.newPass)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(l.o),t.Y36(f.pX),t.Y36(d.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-profile"]],decls:22,vars:4,consts:[[1,"container"],[3,"padding"],[1,"profile__header","w-card__header"],[1,"avatar","_profile"],["width","50","height","50","alt","User Avatar",1,"avatar__img",3,"src"],["for","userAvatarUrl",1,"avatar__upload"],[1,"material-icons","avatar__icon"],[1,"profile__body"],[3,"config","submition","wChange",4,"ngIf"],[1,"profile__footer"],[1,"profile__logout"],["type","danger",3,"click"],[1,"material-icons"],["translate",""],["class","profile__password",4,"ngIf"],[1,"profile__password"],["type","link","translate","",3,"click"],[3,"config","submition","wChange"],["type","link",3,"click",4,"ngIf"],["type","link",3,"disabled","wClick",4,"ngIf"],["type","link",3,"click"],["type","link",3,"disabled","wClick"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"wcard",1)(2,"div",2)(3,"div")(4,"div",3),t._UZ(5,"img",4),t.TgZ(6,"label",5)(7,"i",6),t._uU(8,"edit"),t.qZA()()()()(),t.TgZ(9,"div",7),t.YNc(10,w,1,2,"wform",8),t.TgZ(11,"div",9)(12,"div",10)(13,"wbutton",11),t.NdJ("click",function(){return n.us.logout()}),t.TgZ(14,"span",12),t._uU(15,"logout"),t.qZA(),t.TgZ(16,"span",13),t._uU(17,"Profile.Logout"),t.qZA()()(),t.YNc(18,v,3,2,"div",14),t.TgZ(19,"div",15)(20,"wbutton",16),t.NdJ("click",function(){return n.change_password()}),t._uU(21," Profile.Change Password "),t.qZA()()()()()()),2&i&&(t.xp6(1),t.Q6J("padding",!0),t.xp6(4),t.Q6J("src",n.us.user.thumb||"assets/default.png",t.LSH),t.xp6(5),t.Q6J("ngIf",n.user),t.xp6(8),t.Q6J("ngIf",!n.us.role("owner")))},dependencies:[u.P,g.O5,_.r,m.A,h.U],styles:['[_ngcontent-%COMP%]:root{--c-white: #fff;--c-black: #000;--c-grey: #e7e7e7;--c-grey-dark: #bfbfbf;--c-basic: #3558ae;--c-primary: #256eff;--c-primary-hover: #0051f1;--c-secondary: red;--c-bg-primary: #f3f4f7;--c-bg-secondary: #ffffff;--c-bg-tertiary: #fcfdfe;--c-border: #f0f1f7;--c-shadow: #f3f3f3;--c-text-primary: #666666;--c-text-secondary: #19235c;--c-placeholder: #adb8c6;--c-warn: #e67e22;--c-error: #e74c3c;--c-error-hover: #d62c1a;--c-success: #14c76e;--c-info: #17a2b8;--container: 1210px;--b-radius: 8px;--b-radius-card: 10px;--b-radius-btn: 10px;--b-radius-img: 50%;--padding: 10px;--fs: 16px;--ff-bold: bold;--ff-base: "Poppins", sans-serif;--letter-spacing: .3px;--transition: .3s all ease-in-out}html.dark[_ngcontent-%COMP%]:root{--c-basic: #333;--c-bg-primary: #282828;--c-bg-secondary: #343434;--c-bg-tertiary: #404040;--c-border: #404040;--c-shadow: #444444;--c-text-primary: #ffffff;--c-text-secondary: #ffffff;--c-placeholder: #7a7a7a}[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   wcard[_ngcontent-%COMP%]{width:100%;padding:20px 260px 0 20px;transition:all .3s;display:block}@media screen and (max-width: 767px){[_nghost-%COMP%]   wcard[_ngcontent-%COMP%]{padding:20px}}.container[_ngcontent-%COMP%]{padding:unset}.profile__header[_ngcontent-%COMP%]{z-index:9;top:10px;position:absolute;right:25px;letter-spacing:0;line-height:23px;font-weight:500;font-size:20px;color:var(--c-text-primary);display:flex;justify-content:space-between;align-items:center;border-radius:var(--b-radius)}.profile__footer[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}@media (max-width: 767.9px){.profile__footer[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.profile__footer[_ngcontent-%COMP%]   .profile__logout[_ngcontent-%COMP%]{order:2;margin-top:20px}}.profile__logout[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:space-between;align-items:center}.profile__logout[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:10px}.avatar[_ngcontent-%COMP%]{border-radius:var(--b-radius-img);border:1px solid var(--c-border);position:relative;margin:0 auto;padding:3px}.avatar._profile[_ngcontent-%COMP%]{width:60px;height:60px}.avatar__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:var(--b-radius-img)}.avatar__upload[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0;bottom:0;width:24px;height:24px;border-radius:var(--b-radius-img);background:var(--c-primary);display:flex;justify-content:center;align-items:center;transition:var(--transition)}.avatar__icon[_ngcontent-%COMP%]{color:var(--c-white);font-size:var(--fs)}.profile__password[_ngcontent-%COMP%]{cursor:pointer}']})}return o})();var P=r(7605);const y=[{path:"",component:C}];let M=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[P.Bz.forChild(y),p.I]})}return o})()}}]);