"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[948],{9948:(w,h,r)=>{r.r(h),r.d(h,{ArticlesModule:()=>b});var m=r(7229),i=r(4946),d=r(5616),n=r(1883),u=r(1749);let f=(()=>{class a{new(){return{_id:"",name:"",description:""}}constructor(e,t){this.mongo=e,this.alert=t,this.articles=[],this._articles={},this.articles=e.get("article",{},(s,l)=>{this._articles=l})}create(e=this.new(),t=(l=>{}),s="article has been created."){e._id?this.save(e):this.mongo.create("article",e,l=>{t(l),this.alert.show({text:s})})}doc(e){return this._articles[e]||(this._articles[e]=this.mongo.fetch("article",{query:{_id:e}})),this._articles[e]}update(e,t=(l=>{}),s="article has been updated."){this.mongo.afterWhile(e,()=>{this.save(e,t,s)})}save(e,t=(l=>{}),s="article has been updated."){this.mongo.update("article",e,()=>{s&&this.alert.show({text:s,unique:e})})}delete(e,t=(l=>{}),s="article has been deleted."){this.mongo.delete("article",e,()=>{s&&this.alert.show({text:s})})}static#e=this.\u0275fac=function(t){return new(t||a)(i.LFG(n.rm),i.LFG(n.c9))};static#t=this.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var p=r(5660);let v=(()=>{class a{get rows(){return this._as.articles}constructor(e,t,s,l,A){this._translate=e,this._alert=t,this._form=s,this._core=l,this._as=A,this.columns=["name","description"],this.form=this._form.getForm("article",{formId:"article",title:"Article",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill article title"},{name:"Label",value:"Title"}]},{name:"Photo",key:"thumb",fields:[{name:"Label",value:"Header picture"}]},{name:"Text",key:"short",fields:[{name:"Placeholder",value:"fill article short description"},{name:"Label",value:"Short Description"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill article description"},{name:"Label",value:"Description"}]},{name:"Text",key:"reference",fields:[{name:"Placeholder",value:"fill article reference"},{name:"Label",value:"Reference"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(o,c)=>{this._as.create(o),c()}}).then(this._as.create.bind(this))},update:o=>{this._form.modal(this.form,[],o).then(c=>{this._core.copy(c,o),this._as.save(o)})},delete:o=>{this._alert.question({text:this._translate.translate("Articles.Are you sure you want to delete this Article?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._as.delete(o)}}]})}}}static#e=this.\u0275fac=function(t){return new(t||a)(i.Y36(d.s),i.Y36(n.c9),i.Y36(u.o),i.Y36(n.pX),i.Y36(f))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Articles",3,"columns","config","rows"]],template:function(t,s){1&t&&i._UZ(0,"wtable",0),2&t&&i.Q6J("columns",s.columns)("config",s.config)("rows",s.rows)},dependencies:[p.a]})}return a})();var y=r(7605);const g=[{path:"",component:v}];let b=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275mod=i.oAB({type:a});static#s=this.\u0275inj=i.cJS({imports:[y.Bz.forChild(g),m.I]})}return a})()}}]);